Network Working Group                                     H. Schulzrinne
Internet-Draft                                       Columbia University
Intended status: Standards Track                               S. Casner
Expires: January 2, 2004                                   Packet Design
                                                            R. Frederick
                                                  Blue Coat Systems Inc.
                                                             V. Jacobson
                                                           Packet Design
                                                            July 1, 2003

          RTP: A Transport Protocol for Real-Time Applications

5.  RTP Data Transfer Protocol

5.1.  RTP Fixed Header Fields

   An RTP packet is formatted as follows:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |X|P|
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                            payload                          ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   extension (X): 1 bit

      If extension is 1, header extension should precede payload
      (format defined in Section 5.3.1).

   padding (P): 1 bit

      If padding is 1, padding should follow payload (format defined in
      Section 5.1.1).  Padding may be needed by some encryption
      algorithms with fixed block sizes or for carrying several RTP
      packets in a lower-layer protocol data unit.

5.1.1.  RTP Payload Padding

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                    padding                 ...| padding count |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   padding: 8*(padding count) bits

      End of packet padding

   padding Count: 8 bits

      The number of octets in the padding

5.3.1.  RTP Header Extension

   An extension mechanism is provided to allow individual
   implementations to experiment with new payload-format-independent
   functions that require additional information to be carried in the
   RTP data packet header.  This mechanism is designed so that the
   header extension may be ignored by other interoperating
   implementations that have not been extended.

   Note that this header extension is intended only for limited use.
   Most potential uses of this mechanism would be better done another
   way, using the methods described in the previous section.  For
   example, a profile-specific extension to the fixed header is less
   expensive to process because it is not conditional nor in a variable
   location.  Additional information required for a particular payload
   format SHOULD NOT use this header extension, but SHOULD be carried in
   the payload section of the packet.

   Only a single extension can be appended to the RTP data header.

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      defined by profile       |           length              |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                        header extension                     ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   defined by profile: 16 bits



Schulzrinne, et al.      Expires January 2, 2004               [Page 17]

Internet-Draft                     RTP                         July 2003


      To allow multiple interoperating implementations to each
      experiment independently with different header extensions, or to
      allow a particular implementation to experiment with more than one
      type of header extension, the first 16 bits of the header
      extension are left open for distinguishing identifiers or
      parameters.  The format of these 16 bits is to be defined by the
      profile specification under which the implementations are
      operating.  This RTP specification does not define any header
      extensions itself.

   length: 16 bits

      The header extension contains a 16-bit length field that counts
      the number of 32-bit words in the extension, excluding the four-
      octet extension header (therefore zero is a valid length).

   header extension: 32*length bits

      The payload of this header extension
